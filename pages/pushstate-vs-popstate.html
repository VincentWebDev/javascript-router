<!DOCTYPE html>

<html>
  <head>
    <title>pushState vs popstate</title>
    <link rel="icon" type="image/x-icon" href="../favicon.png" />
    <meta
      name="description"
      content="Example of how to create a vanilla Javascript router with a single page application (SPA)"
    />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../style.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <h1>pushState vs popstate</h1>
    <div class="d-flex flex-column gap-5">
      <div class="d-flex flex-column align-items-center">
        <p class="text">
          This how-to shows examples and the differences between the pushState()
          method of the window history API and the window popstate event that
          fires.
        </p>

        <p class="text">
          <strong>Remember,</strong> these URLs (routers) that are updated with
          pushState and replaceState are non-existent. If you refresh the
          browser, you'll receive an error.
        </p>
      </div>
      <div id="group-1">
        <h2>
          pushState <strong>without</strong> listening for the popstate event
        </h2>
        <p>
          If you click on the squares, the URL and history tab will change.
          However, if you click on the browser back or forward buttons, the
          popstate event will be fired, the URL will change, but the squares
          will not change size because they are not listening for a popstate
          event.
        </p>
        <div class="squares d-flex justify-content-center gap-5" id="pushstate">
          <div
            class="square d-flex align-items-center justify-content-center"
            id="square-1"
          >
            square 1
          </div>
          <div
            class="square d-flex align-items-center justify-content-center"
            id="square-2"
          >
            square 2
          </div>
          <div
            class="square d-flex align-items-center justify-content-center"
            id="square-3"
          >
            square 3
          </div>
        </div>
      </div>
      <div id="group-2">
        <h2>
          pushState <strong>with</strong> listening for the popstate event
        </h2>
        <p>
          If you click on the circles, the URL and history tab will change. As
          opposed to the squares, the circles will change size when you click on
          the browser back or forward buttons because they are listening for the
          popstate event.
        </p>
        <div class="d-flex justify-content-center gap-5" id="pushstate">
          <div
            class="circle d-flex align-items-center justify-content-center"
            id="circle-1"
          >
            circle 1
          </div>
          <div
            class="circle d-flex align-items-center justify-content-center"
            id="circle-2"
          >
            circle 2
          </div>
          <div
            class="circle d-flex align-items-center justify-content-center"
            id="circle-3"
          >
            circle 3
          </div>
        </div>
      </div>
      <div class="d-flex flex-column align-items-center" id="popstate-alert">
        <strong>popstate event was fired</strong>
      </div>
      <div id="group-3">
        <h2>pushState vs replaceState</h2>
        <p>
          The main difference between the pushState and replaceState methods are
          that pushState adds an entry to the browser history, whereas
          replaceState doesn't. replaceState only updates the URL. View your
          browser history after clicking on replaceState.
        </p>
        <div class="d-flex justify-content-center">
          <strong
            class="d-flex align-items-center justify-content-center"
            id="replace-state"
            >Click to replaceState()</strong
          >
        </div>
      </div>
    </div>
    <script src="../js/pushstate-vs-popstate.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
